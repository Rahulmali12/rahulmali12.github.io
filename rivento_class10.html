<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rivento Academy | Secure Cloud App</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap" rel="stylesheet">

    <style>
        /* (‡§™‡•Å‡§∞‡§æ‡§®‡§æ CSS ‡§∏‡•á‡§Æ ‡§∞‡§π‡•á‡§ó‡§æ, ‡§¨‡§∏ ‡§≤‡•â‡§ó‡§ø‡§® ‡§¨‡•â‡§ï‡•ç‡§∏ ‡§ï‡•ã ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§ø‡§Ø‡§æ ‡§π‡•à) */
        :root { --primary: #6c5ce7; --dark: #2d3436; --accent: #00cec9; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        body { background-color: #f1f2f6; color: var(--dark); display: flex; flex-direction: column; min-height: 100vh; }
        
        header { background: white; padding: 1rem 5%; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
        .logo { font-size: 1.5rem; font-weight: 800; color: var(--primary); }
        
        .btn-login { background: var(--dark); color: white; border: none; padding: 8px 20px; border-radius: 5px; cursor: pointer; font-family: 'Orbitron'; letter-spacing: 1px; }
        .btn-logout { background: #d63031; display: none; } /* ‡§∂‡•Å‡§∞‡•Ç ‡§Æ‡•á‡§Ç ‡§õ‡§ø‡§™‡§æ ‡§∞‡§π‡•á‡§ó‡§æ */

        /* MAIN CONTENT - BLURRED UNTIL LOGIN */
        #protected-content { filter: blur(5px); pointer-events: none; user-select: none; transition: 0.5s; opacity: 0.5; }
        
        /* ‡§Ö‡§ó‡§∞ ‡§≤‡•â‡§ó‡§ø‡§® ‡§π‡•ã ‡§ó‡§Ø‡§æ ‡§§‡•ã ‡§∏‡§¨ ‡§∏‡§æ‡•û ‡§¶‡§ø‡§ñ‡•á‡§ó‡§æ */
        body.logged-in #protected-content { filter: blur(0); pointer-events: all; opacity: 1; }

        .lock-message {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            text-align: center; z-index: 50; background: white; padding: 40px;
            border-radius: 20px; box-shadow: 0 20px 50px rgba(0,0,0,0.2);
        }
        body.logged-in .lock-message { display: none; }

        /* Login Modal */
        #login-modal { position: fixed; inset: 0; background: rgba(0,0,0,0.9); display: none; place-items: center; z-index: 1000; }
        .modal-box { background: #111; padding: 30px; border: 1px solid var(--accent); color: var(--accent); width: 300px; text-align: center; font-family: 'Orbitron'; box-shadow: 0 0 30px var(--primary); }
        .inp { width: 100%; padding: 10px; margin: 10px 0; background: #222; border: 1px solid #444; color: white; text-align: center; }
        .btn-go { width: 100%; padding: 10px; background: var(--accent); font-weight: bold; cursor: pointer; border: none; }
        
        /* ‡§¨‡§æ‡§ï‡•Ä ‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü ‡§ï‡§æ ‡§∏‡•ç‡§ü‡§æ‡§á‡§≤ */
        .subject-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; padding: 20px 5%; margin-top: 50px; }
        .card { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        .card h2 { color: var(--primary); }
    </style>
</head>
<body>

    <header>
        <div class="logo">RIVENTO <span style="color:gold; font-size:0.8em">PRO</span></div>
        <nav>
            <button id="loginBtn" class="btn-login" onclick="showLogin()">üîí LOGIN</button>
            <button id="logoutBtn" class="btn-login btn-logout">üö™ LOGOUT</button>
        </nav>
    </header>

    <div class="lock-message">
        <h1 style="font-size:3rem;">‚õî</h1>
        <h2>SECURE AREA</h2>
        <p>Rivento Academy ‡§ï‡•á ‡§®‡•ã‡§ü‡•ç‡§∏ ‡§¶‡•á‡§ñ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡•á‡§Ç‡•§</p>
    </div>

    <main id="protected-content">
        <div class="subject-grid">
            <div class="card"><h2>Mathematics</h2><p>Notes & Quiz (Locked)</p></div>
            <div class="card"><h2>Science</h2><p>Notes & Quiz (Locked)</p></div>
            <div class="card"><h2>Social Science</h2><p>Notes & Quiz (Locked)</p></div>
            <div class="card"><h2>English</h2><p>Notes & Quiz (Locked)</p></div>
        </div>
        <p style="text-align:center; margin-top:30px;">(‡§≤‡•â‡§ó‡§ø‡§® ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§Ø‡§π‡§æ‡§Å ‡§Ü‡§™‡§ï‡•á ‡§∏‡§æ‡§∞‡•á Quiz ‡§î‡§∞ Questions ‡§Ü ‡§ú‡§æ‡§Ø‡•á‡§Ç‡§ó‡•á)</p>
    </main>

    <div id="login-modal">
        <div class="modal-box">
            <h2>SYSTEM LOGIN</h2>
            <p id="auth-status" style="font-size:0.8rem; margin-bottom:15px; color:#888;">SERVER: DISCONNECTED</p>
            <input type="email" id="email" class="inp" placeholder="Admin Email">
            <input type="password" id="password" class="inp" placeholder="Password">
            <button class="btn-go" id="submit-login">AUTHENTICATE</button>
            <button onclick="document.getElementById('login-modal').style.display='none'" style="margin-top:10px; background:none; border:none; color:#555; cursor:pointer;">Cancel</button>
        </div>
    </div>

    <script type="module">
        // 1. Firebase SDK ‡§á‡§Ç‡§™‡•ã‡§∞‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, signInWithEmailAndPassword, signOut, onAuthStateChanged } 
        from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        // 2. ‡§Ö‡§™‡§®‡§æ Config ‡§Ø‡§π‡§æ‡§Å ‡§™‡•á‡§∏‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç (‡§®‡•Ä‡§ö‡•á ‡§µ‡§æ‡§≤‡•á ‡§ï‡•ã ‡§π‡§ü‡§æ‡§ï‡§∞ ‡§Ö‡§™‡§®‡§æ ‡§µ‡§æ‡§≤‡§æ ‡§°‡§æ‡§≤‡•á‡§Ç)
        // üî•üî•üî• IMPORTANT: REPLACE THIS OBJECT WITH YOUR COPIED CONFIG üî•üî•üî•
        const firebaseConfig = {
         apiKey: "AIzaSyBmsqEPUnWjjb2m4g1XgEcRrxlK_dOIDfE",
  authDomain: "revento-academy.firebaseapp.com",
  databaseURL: "https://revento-academy-default-rtdb.firebaseio.com",
  projectId: "revento-academy",
  storageBucket: "revento-academy.firebasestorage.app",
  messagingSenderId: "384071300366",
  appId: "1:384071300366:web:8a95f3ec8507bc2d3b535f",
  measurementId: "G-4L8YC6J095"
};

        // 3. Firebase ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        // UI Elements
        const loginModal = document.getElementById('login-modal');
        const loginBtn = document.getElementById('loginBtn');
        const logoutBtn = document.getElementById('logoutBtn');
        const submitBtn = document.getElementById('submit-login');
        const statusMsg = document.getElementById('auth-status');

        // 4. ‡§≤‡•â‡§ó‡§ø‡§® ‡§¨‡§ü‡§® ‡§ï‡§æ ‡§≤‡•â‡§ú‡§ø‡§ï
        window.showLogin = () => { loginModal.style.display = 'grid'; }

        submitBtn.addEventListener('click', () => {
            const email = document.getElementById('email').value;
            const pass = document.getElementById('password').value;

            statusMsg.innerText = "CONNECTING TO GOOGLE...";
            statusMsg.style.color = "yellow";

            signInWithEmailAndPassword(auth, email, pass)
                .then((userCredential) => {
                    // ‡§Ö‡§ó‡§∞ ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§° ‡§∏‡§π‡•Ä ‡§π‡•à:
                    statusMsg.innerText = "SUCCESS! UNLOCKING...";
                    statusMsg.style.color = "#00cec9";
                    setTimeout(() => { loginModal.style.display = 'none'; }, 1000);
                })
                .catch((error) => {
                    // ‡§Ö‡§ó‡§∞ ‡§ó‡§≤‡§§ ‡§π‡•à:
                    statusMsg.innerText = "ACCESS DENIED ‚ùå";
                    statusMsg.style.color = "red";
                    console.error(error.message);
                });
        });

        // 5. ‡§≤‡•â‡§ó‡§Ü‡§â‡§ü ‡§≤‡•â‡§ú‡§ø‡§ï
        logoutBtn.addEventListener('click', () => {
            signOut(auth).then(() => {
                alert("Logged out securely.");
            });
        });

        // 6. ‡§∏‡§ø‡§ï‡•ç‡§Ø‡•ã‡§∞‡§ø‡§ü‡•Ä ‡§ö‡•á‡§ï (‡§ú‡§æ‡§∏‡•Ç‡§∏) - ‡§Ø‡§π ‡§π‡§Æ‡•á‡§∂‡§æ ‡§ö‡•á‡§ï ‡§ï‡§∞‡§§‡§æ ‡§π‡•à ‡§ï‡§ø ‡§Ø‡•Ç‡§ú‡§∞ ‡§≤‡•â‡§ó‡§ø‡§® ‡§π‡•à ‡§Ø‡§æ ‡§®‡§π‡•Ä‡§Ç
        onAuthStateChanged(auth, (user) => {
            if (user) {
                // ‡§Ø‡•Ç‡§ú‡§∞ ‡§≤‡•â‡§ó‡§ø‡§® ‡§π‡•à -> ‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü ‡§Ö‡§®‡§≤‡•â‡§ï ‡§ï‡§∞‡•ã
                document.body.classList.add('logged-in');
                loginBtn.style.display = 'none';
                logoutBtn.style.display = 'inline-block';
                console.log("Admin Logged In:", user.email);
            } else {
                // ‡§Ø‡•Ç‡§ú‡§∞ ‡§≤‡•â‡§ó‡§ø‡§® ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à -> ‡§≤‡•â‡§ï ‡§≤‡§ó‡§æ ‡§¶‡•ã
                document.body.classList.remove('logged-in');
                loginBtn.style.display = 'inline-block';
                logoutBtn.style.display = 'none';
            }
        });
    </script>
</body>
</html>
