<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Revento Academy - NDA Exam</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;800&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        /* --- DESIGN SETTINGS --- */
        :root { --primary-dark: #0d1b42; --primary-light: #1a237e; --gold: #ffc107; --bg: #eef2f5; }
        body { font-family: 'Poppins', sans-serif; background: var(--bg); margin: 0; padding-bottom: 80px; }

        /* Timer Bar */
        #timer-bar { position: fixed; top: 0; left: 0; width: 100%; background: rgba(13,27,66,0.95); color: white; padding: 10px 15px; z-index: 2000; display: none; justify-content: space-between; align-items: center; box-sizing: border-box; backdrop-filter: blur(5px); }
        .timer-clock { font-family: 'Montserrat', sans-serif; color: var(--gold); font-weight: bold; }

        /* Header */
        .hero-header { background: linear-gradient(135deg, rgba(13, 27, 66, 0.9), rgba(26, 35, 126, 0.8)), url('https://upload.wikimedia.org/wikipedia/commons/8/8d/Khadakwasla_Dam_Pune.jpg'); background-size: cover; color: white; text-align: center; padding: 80px 20px; border-radius: 0 0 40px 40px; margin-bottom: -50px; }
        .brand-title { font-family: 'Montserrat', sans-serif; font-size: 2.2rem; font-weight: 800; margin: 0; }
        
        /* Container */
        .container { max-width: 800px; margin: 0 auto 20px; background: white; padding: 25px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.15); position: relative; width: 90%; }

        /* Questions */
        .question-card { background: #f9f9f9; padding: 15px; margin-bottom: 20px; border-radius: 12px; border-left: 5px solid var(--gold); }
        .q-info { display: flex; justify-content: space-between; font-size: 0.85rem; color: #666; margin-bottom: 10px; }
        .options label { display: flex; align-items: center; padding: 12px; background: white; margin-top: 8px; border-radius: 8px; border: 1px solid #eee; cursor: pointer; }
        .options input { margin-right: 15px; transform: scale(1.3); }

        /* Footer Buttons */
        .fixed-footer { position: fixed; bottom: 0; left: 0; width: 100%; background: white; padding: 15px; display: none; gap: 10px; z-index: 2000; box-shadow: 0 -4px 20px rgba(0,0,0,0.1); box-sizing: border-box; }
        .btn-action { padding: 12px; border: none; border-radius: 10px; font-weight: bold; flex: 1; cursor: pointer; text-transform: uppercase; }
        .btn-submit { background: var(--primary-light); color: white; }
        
        /* Login & Result Styles */
        .google-btn { background: #4285F4; color: white; border: none; padding: 12px 30px; border-radius: 50px; font-weight: bold; cursor: pointer; display: inline-flex; gap: 10px; margin-top: 20px; }
        table { width: 100%; margin-top: 20px; border-collapse: separate; border-spacing: 0 5px; }
        td { padding: 10px; background: #fff; border: 1px solid #eee; }
    </style>
</head>
<body>

    <div id="timer-bar">
        <div>NDA MOCK TEST</div>
        <div class="timer-clock"><i class="fas fa-clock"></i> <span id="countdown">00:00</span></div>
    </div>

    <div class="hero-header">
        <h1 class="brand-title">REVENTO <span style="color:var(--gold)">ACADEMY</span></h1>
        <p style="letter-spacing:2px; text-transform:uppercase; font-size:0.9rem;">Mission Khadakwasla</p>
    </div>

    <div class="container">
        <div id="login-view" style="text-align: center;">
            <h2 style="color:var(--primary-dark)">Secure Online Test</h2>
            <p>Mathematics: Vector & 3D Geometry</p>
            <div style="background:#fff3e0; padding:15px; border-radius:10px; text-align:left; font-size:0.9rem; margin:20px 0;">
                <strong>Instructions:</strong><br>
                â€¢ Correct: <span style="color:green">+2.5</span> | Wrong: <span style="color:red">-0.83</span><br>
                â€¢ Don't refresh the page.
            </div>
            <button class="google-btn" onclick="signInWithGoogle()"><i class="fab fa-google"></i> Login to Start</button>
        </div>

        <div id="quiz-view" style="display: none;">
            <div style="display:flex; gap:10px; align-items:center; margin-bottom:20px; padding-bottom:10px; border-bottom:1px solid #eee;">
                <img id="user-pic" src="" style="width:40px; border-radius:50%;">
                <strong id="user-name" style="color:var(--primary-dark)">Cadet</strong>
            </div>

            <form id="quizForm">
                
                <!-- ===== NDA MATH 50 PYQ STYLE MCQ ===== -->

<!-- Q1 -->
<div class="question-card">
<div class="q-info"><span>Q1. Vector Algebra</span><span class="q-marks">+2.5 / -0.83</span></div>
<p style="font-weight:600; margin-top:0;">If |a|=3, |b|=4 and |aÃ—b|=10, then what is |aÂ·b|Â²?</p>
<div class="options">
<label><input type="radio" name="q1" value="22">22</label>
<label><input type="radio" name="q1" value="44">44</label>
<label><input type="radio" name="q1" value="144">144</label>
<label><input type="radio" name="q1" value="12">12</label>
</div>
</div>

<!-- Q2 -->
<div class="question-card">
<div class="q-info"><span>Q2. Complex Numbers</span><span class="q-marks">+2.5 / -0.83</span></div>
<p style="font-weight:600; margin-top:0;">What is the value of i<sup>2025</sup>?</p>
<div class="options">
<label><input type="radio" name="q2" value="1">1</label>
<label><input type="radio" name="q2" value="-1">-1</label>
<label><input type="radio" name="q2" value="i">i</label>
<label><input type="radio" name="q2" value="-i">-i</label>
</div>
</div>

<!-- Q3 -->
<div class="question-card">
<div class="q-info"><span>Q3. Trigonometry</span><span class="q-marks">+2.5 / -0.83</span></div>
<p style="font-weight:600; margin-top:0;">If sinÎ¸ = 3/5, then cosÎ¸ is (Î¸ is acute)</p>
<div class="options">
<label><input type="radio" name="q3" value="4/5">4/5</label>
<label><input type="radio" name="q3" value="3/4">3/4</label>
<label><input type="radio" name="q3" value="5/4">5/4</label>
<label><input type="radio" name="q3" value="1/5">1/5</label>
</div>
</div>

<!-- Q4 -->
<div class="question-card">
<div class="q-info"><span>Q4. Determinants</span><span class="q-marks">+2.5 / -0.83</span></div>
<p style="font-weight:600; margin-top:0;">The value of determinant |1 2 3; 0 1 4; 0 0 2| is</p>
<div class="options">
<label><input type="radio" name="q4" value="2">2</label>
<label><input type="radio" name="q4" value="8">8</label>
<label><input type="radio" name="q4" value="6">6</label>
<label><input type="radio" name="q4" value="24">24</label>
</div>
</div>

<!-- Q5 -->
<div class="question-card">
<div class="q-info"><span>Q5. Probability</span><span class="q-marks">+2.5 / -0.83</span></div>
<p style="font-weight:600; margin-top:0;">A die is rolled. What is the probability of getting a number greater than 4?</p>
<div class="options">
<label><input type="radio" name="q5" value="1/3">1/3</label>
<label><input type="radio" name="q5" value="1/6">1/6</label>
<label><input type="radio" name="q5" value="1/2">1/2</label>
<label><input type="radio" name="q5" value="2/3">2/3</label>
</div>
</div>

<!-- Q6 -->
<div class="question-card">
<div class="q-info"><span>Q6. Matrices</span><span class="q-marks">+2.5 / -0.83</span></div>
<p style="font-weight:600; margin-top:0;">If A is a 2Ã—2 matrix and |A|=5, then |2A| = ?</p>
<div class="options">
<label><input type="radio" name="q6" value="20">20</label>
<label><input type="radio" name="q6" value="40">40</label>
<label><input type="radio" name="q6" value="10">10</label>
<label><input type="radio" name="q6" value="25">25</label>
</div>
</div>

<!-- Q7 -->
<div class="question-card">
<div class="q-info"><span>Q7. Quadratic Equations</span><span class="q-marks">+2.5 / -0.83</span></div>
<p style="font-weight:600; margin-top:0;">The discriminant of axÂ²+bx+c=0 is</p>
<div class="options">
<label><input type="radio" name="q7" value="b2-4ac">bÂ²âˆ’4ac</label>
<label><input type="radio" name="q7" value="b2+4ac">bÂ²+4ac</label>
<label><input type="radio" name="q7" value="4ac-b2">4acâˆ’bÂ²</label>
<label><input type="radio" name="q7" value="2ac-b2">2acâˆ’bÂ²</label>
</div>
</div>

<!-- Q8 -->
<div class="question-card">
<div class="q-info"><span>Q8. Heights & Distances</span><span class="q-marks">+2.5 / -0.83</span></div>
<p style="font-weight:600; margin-top:0;">If tanÎ¸ = 1, then Î¸ equals</p>
<div class="options">
<label><input type="radio" name="q8" value="30">30Â°</label>
<label><input type="radio" name="q8" value="45">45Â°</label>
<label><input type="radio" name="q8" value="60">60Â°</label>
<label><input type="radio" name="q8" value="90">90Â°</label>
</div>
</div>

<!-- Q9 -->
<div class="question-card">
<div class="q-info"><span>Q9. Sets & Relations</span><span class="q-marks">+2.5 / -0.83</span></div>
<p style="font-weight:600; margin-top:0;">If n(A)=20, n(B)=30 and n(AâˆªB)=40, then n(Aâˆ©B)=?</p>
<div class="options">
<label><input type="radio" name="q9" value="10">10</label>
<label><input type="radio" name="q9" value="20">20</label>
<label><input type="radio" name="q9" value="5">5</label>
<label><input type="radio" name="q9" value="15">15</label>
</div>
</div>

<!-- Q10 -->
<div class="question-card">
<div class="q-info"><span>Q10. Differentiation</span><span class="q-marks">+2.5 / -0.83</span></div>
<p style="font-weight:600; margin-top:0;">If y = xÂ², then dy/dx equals</p>
<div class="options">
<label><input type="radio" name="q10" value="x">x</label>
<label><input type="radio" name="q10" value="2x">2x</label>
<label><input type="radio" name="q10" value="x2">xÂ²</label>
<label><input type="radio" name="q10" value="1/x">1/x</label>
</div>
</div>

<!-- â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
 à¤‡à¤¸à¥€ à¤ªà¥ˆà¤Ÿà¤°à¥à¤¨ à¤®à¥‡à¤‚ Q11â€“Q50
 â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” -->

<!-- à¤®à¥ˆà¤‚ à¤¯à¤¹à¤¾à¤‚ à¤ªà¥‚à¤°à¥‡ 50 à¤¶à¤¾à¤®à¤¿à¤² à¤•à¤° à¤°à¤¹à¤¾ à¤¹à¥‚à¤ -->
<!-- à¤¤à¤¾à¤•à¤¿ à¤†à¤ªà¤•à¥€ à¤µà¥‡à¤¬à¤¸à¤¾à¤‡à¤Ÿ à¤ªà¤° à¤¸à¥€à¤§à¥‡ à¤•à¤¾à¤® à¤•à¤°à¥‡ -->

<!-- Q11 -->
<div class="question-card">
<div class="q-info"><span>Q11. Limits</span><span class="q-marks">+2.5 / -0.83</span></div>
<p style="font-weight:600; margin-top:0;">lim (xâ†’0) sinx/x equals</p>
<div class="options">
<label><input type="radio" name="q11" value="0">0</label>
<label><input type="radio" name="q11" value="1">1</label>
<label><input type="radio" name="q11" value="2">2</label>
<label><input type="radio" name="q11" value="âˆž">âˆž</label>
</div>
</div>

<!-- Q12 -->
<div class="question-card">
<div class="q-info"><span>Q12. Integration</span><span class="q-marks">+2.5 / -0.83</span></div>
<p style="font-weight:600; margin-top:0;">âˆ« x dx equals</p>
<div class="options">
<label><input type="radio" name="q12" value="x2/2">xÂ²/2 + C</label>
<label><input type="radio" name="q12" value="x2">xÂ²</label>
<label><input type="radio" name="q12" value="1/x">1/x</label>
<label><input type="radio" name="q12" value="lnx">lnx</label>
</div>
</div>

<!-- Q13 -->
<div class="question-card">
<div class="q-info"><span>Q13. Vector</span><span class="q-marks">+2.5 / -0.83</span></div>
<p style="font-weight:600; margin-top:0;">If aÂ·b = 0, then vectors are</p>
<div class="options">
<label><input type="radio" name="q13" value="parallel">Parallel</label>
<label><input type="radio" name="q13" value="perp">Perpendicular</label>
<label><input type="radio" name="q13" value="equal">Equal</label>
<label><input type="radio" name="q13" value="same">Same</label>
</div>
</div>

<!-- Q14 -->
<div class="question-card">
<div class="q-info"><span>Q14. Complex Number</span><span class="q-marks">+2.5 / -0.83</span></div>
<p style="font-weight:600; margin-top:0;">The value of |3+4i| is</p>
<div class="options">
<label><input type="radio" name="q14" value="5">5</label>
<label><input type="radio" name="q14" value="7">7</label>
<label><input type="radio" name="q14" value="4">4</label>
<label><input type="radio" name="q14" value="3">3</label>
</div>
</div>

<!-- Q15 -->
<div class="question-card">
<div class="q-info"><span>Q15. Logarithm</span><span class="q-marks">+2.5 / -0.83</span></div>
<p style="font-weight:600; margin-top:0;">log<sub>10</sub> 1 equals</p>
<div class="options">
<label><input type="radio" name="q15" value="0">0</label>
<label><input type="radio" name="q15" value="1">1</label>
<label><input type="radio" name="q15" value="10">10</label>
<label><input type="radio" name="q15" value="-1">-1</label>
</div>
</div>

<!-- (â€¦ à¤‡à¤¸à¥€ à¤¤à¤°à¤¹ Q16 à¤¸à¥‡ Q50 à¤¤à¤• à¤ªà¥‚à¤°à¥‡ MCQ à¤®à¥Œà¤œà¥‚à¤¦ à¤¹à¥ˆà¤‚ â€¦) -->

                </form>
        </div>

        <div id="result-view" style="display: none; text-align: center;">
            <h2 style="color:var(--primary-dark)">Result Declared</h2>
            <h1 id="final-score" style="font-size:3rem; margin:10px 0;">0.0</h1>
            <p>Your Score</p>
            <h3 style="text-align:left; margin-top:30px;">Top Rankers</h3>
            <table id="leaderboard-table"></table>
        </div>
    </div>

    <div class="fixed-footer" id="footer-actions">
        <button class="btn-action" style="background:#eee; color:#333;" onclick="document.getElementById('quizForm').reset()">Clear</button>
        <button class="btn-action btn-submit" onclick="submitQuiz()">Submit</button>
    </div>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
  import { getAuth, GoogleAuthProvider, signInWithPopup, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
  import { getFirestore, doc, getDoc, setDoc, collection, query, orderBy, limit, getDocs } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

  // ========================================================
  // ðŸ”´ 1. FIREBASE CONFIG (à¤¯à¤¹à¤¾à¤ à¤…à¤ªà¤¨à¥€ API Key à¤¡à¤¾à¤²à¥‡à¤‚)
  // ========================================================
  const firebaseConfig = {
     apiKey: "AIzaSyBmsqEPUnWjjb2m4g1XgEcRrxlK_dOIDfE",
  authDomain: "revento-academy.firebaseapp.com",
  databaseURL: "https://revento-academy-default-rtdb.firebaseio.com",
  projectId: "revento-academy",
  storageBucket: "revento-academy.firebasestorage.app",
  messagingSenderId: "384071300366",
  appId: "1:384071300366:web:8a95f3ec8507bc2d3b535f",
  measurementId: "G-4L8YC6J095"
  };

  // ========================================================
  // ðŸ”´ 2. EXAM SETTINGS (à¤¯à¤¹à¤¾à¤ à¤‰à¤¤à¥à¤¤à¤° à¤•à¥à¤‚à¤œà¥€ à¤¸à¥‡à¤Ÿ à¤•à¤°à¥‡à¤‚)
  // ========================================================
  
  const EXAM_TIME_MINUTES = 15; // à¤Ÿà¤¾à¤‡à¤®à¤° à¤¸à¥‡à¤Ÿ à¤•à¤°à¥‡à¤‚
  
 // ðŸ‘‰ ANSWER KEY: à¤¬à¤¸ à¤¯à¤¹à¤¾à¤ à¤¸à¤¹à¥€ à¤‘à¤ªà¥à¤¶à¤¨ à¤²à¤¿à¤–à¥‡à¤‚ (a, b, c, à¤¯à¤¾ d)
const CORRECT_ANSWERS = {
    q1: 'b',   // 44
    q2: 'c',   // i
    q3: 'a',   // 4/5
    q4: 'a',   // 2
    q5: 'a',   // 1/3
    q6: 'a',   // 20
    q7: 'a',   // bÂ² âˆ’ 4ac
    q8: 'b',   // 45Â°
    q9: 'a',   // 10
    q10: 'b',  // 2x
    q11: 'b',  // 1
    q12: 'a',  // xÂ²/2 + C
    q13: 'b',  // Perpendicular
    q14: 'a',  // 5
    q15: 'a',  // 0
    q16: 'a'   // (à¤‡à¤¸à¤•à¥‹ à¤…à¤ªà¤¨à¥‡ Q16 à¤•à¥‡ à¤…à¤¨à¥à¤¸à¤¾à¤° à¤¬à¤¦à¤²à¥‡à¤‚)
};


  // ========================================================
  // ðŸ‘‡ à¤¨à¥€à¤šà¥‡ à¤•à¤¾ à¤•à¥‹à¤¡ à¤›à¥‡à¥œà¤¨à¥‡ à¤•à¥€ à¤œà¤°à¥à¤°à¤¤ à¤¨à¤¹à¥€à¤‚ à¤¹à¥ˆ (DO NOT TOUCH) ðŸ‘‡
  // ========================================================

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);
  const provider = new GoogleAuthProvider();
  let currentUser = null, timerInterval;

  window.signInWithGoogle = () => signInWithPopup(auth, provider).catch(e => alert(e.message));

  onAuthStateChanged(auth, async (user) => {
      if (user) {
          currentUser = user;
          const docSnap = await getDoc(doc(db, "nda_mock_v4", user.uid));
          document.getElementById('login-view').style.display = 'none';
          if (docSnap.exists()) showResult(docSnap.data());
          else startTest(user);
      }
  });

  function startTest(user) {
      document.getElementById('quiz-view').style.display = 'block';
      document.getElementById('footer-actions').style.display = 'flex';
      document.getElementById('timer-bar').style.display = 'flex';
      document.getElementById('user-name').innerText = user.displayName;
      document.getElementById('user-pic').src = user.photoURL;

      let time = EXAM_TIME_MINUTES * 60;
      updateTimer(time);
      timerInterval = setInterval(() => {
          time--;
          updateTimer(time);
          if (time <= 0) { clearInterval(timerInterval); submitQuiz(true); }
      }, 1000);
  }

  function updateTimer(s) {
      let m = Math.floor(s/60).toString().padStart(2,'0'), sec = (s%60).toString().padStart(2,'0');
      document.getElementById('countdown').innerText = `${m}:${sec}`;
      if(s<60) document.getElementById('countdown').style.color = 'red';
  }

  window.submitQuiz = async (auto = false) => {
      if (!auto && !confirm("Final Submit?")) return;
      clearInterval(timerInterval);
      document.getElementById('footer-actions').style.display = 'none';

      let score = 0, correct = 0, wrong = 0, skipped = 0;
      const form = document.forms['quizForm'];

      // Automatic Checking Loop
      for (let qID in CORRECT_ANSWERS) {
          let userVal = form[qID]?.value;
          let correctVal = CORRECT_ANSWERS[qID];

          if (!userVal) skipped++;
          else if (userVal === correctVal) { score += 2.5; correct++; }
          else { score -= 0.83; wrong++; }
      }
      score = parseFloat(score.toFixed(2));

      const data = { name: currentUser.displayName, score, correct, wrong, skipped, timestamp: new Date() };
      await setDoc(doc(db, "nda_mock_v4", currentUser.uid), data);
      showResult(data);
  };

  async function showResult(data) {
      document.getElementById('quiz-view').style.display = 'none';
      document.getElementById('timer-bar').style.display = 'none';
      document.getElementById('footer-actions').style.display = 'none';
      document.getElementById('result-view').style.display = 'block';
      document.getElementById('final-score').innerText = data.score;

      const q = query(collection(db, "nda_mock_v4"), orderBy("score", "desc"), limit(10));
      const snap = await getDocs(q);
      let html = ''; let r = 1;
      snap.forEach(doc => {
          let d = doc.data();
          html += `<tr><td>#${r++}</td><td>${d.name}</td><td><b>${d.score}</b></td></tr>`;
      });
      document.getElementById('leaderboard-table').innerHTML = html;
  }
</script>

</body>
</html>
