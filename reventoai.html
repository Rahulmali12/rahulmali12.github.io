<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REVENTO ACADEMY | NDA INTEL</title>
    <link href="https://fonts.googleapis.com/css2?family=Black+Ops+One&family=Rajdhani:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #020b1c; --gold: #FFD700; --blue: #00f3ff; }
        body { background: var(--bg); color: white; font-family: 'Rajdhani', sans-serif; margin: 0; padding-bottom: 50px; overflow-x: hidden; }
        .ticker { background: var(--gold); color: black; padding: 10px; font-family: 'Black Ops One'; position: fixed; top: 0; width: 100%; z-index: 100; border-bottom: 3px solid #000; }
        .ticker-text { display: inline-block; white-space: nowrap; animation: scroll 25s linear infinite; }
        @keyframes scroll { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }
        header { margin-top: 80px; text-align: center; }
        h1 { font-family: 'Black Ops One'; color: var(--gold); font-size: clamp(2rem, 8vw, 3.5rem); margin: 0; text-shadow: 3px 3px 0px #000; }
        .container { max-width: 850px; margin: 20px auto; padding: 20px; }
        .card { background: rgba(10, 25, 60, 0.9); border-left: 5px solid var(--gold); padding: 25px; margin-bottom: 30px; border-radius: 8px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); position: relative; border-top: 1px solid rgba(255,255,255,0.1); }
        .badge { background: var(--gold); color: black; padding: 4px 12px; font-weight: bold; position: absolute; top: -12px; right: 20px; font-size: 0.8rem; }
        .question-box { background: rgba(0,0,0,0.6); border: 1px dashed var(--blue); padding: 20px; margin-top: 20px; border-radius: 5px; }
        .question-text { font-size: 1.25rem; color: var(--blue); font-weight: bold; line-height: 1.5; white-space: pre-wrap; }
        button.reveal-btn { background: var(--gold); border: none; color: black; padding: 12px; font-weight: 900; cursor: pointer; width: 100%; margin-top: 15px; text-transform: uppercase; border-radius: 4px; transition: 0.3s; }
        button.reveal-btn:hover { background: white; box-shadow: 0 0 20px var(--gold); }
        .ans-box { display: none; margin-top: 15px; padding: 15px; background: rgba(0, 255, 100, 0.1); border-left: 3px solid #0f0; color: #fff; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

    <div class="ticker"><div class="ticker-text">â˜… REVENTO ACADEMY â˜… PERPLEXITY AI-INTEL SYSTEM ONLINE â˜… TARGET NDA 2026 â˜… JAI HIND â˜…</div></div>

    <header>
        <h1>REVENTO ACADEMY</h1>
        <p style="color:var(--blue); letter-spacing: 3px; font-weight: bold;">UPSC DEFENCE INTELLIGENCE FEED</p>
    </header>

    <div class="container" id="feed">
        <p style="text-align:center; font-size: 1.2rem; color: var(--blue); animation: blink 1.5s infinite;">[ ESTABLISHING ENCRYPTED DATALINK... ]</p>
    </div>

<script>
    // ============================================
    // ðŸ‘‡ à¤¯à¤¹à¤¾à¤ à¤…à¤ªà¤¨à¥€ KEYS à¤¡à¤¾à¤²à¥‡à¤‚ (KEYS GO HERE) ðŸ‘‡
    // ============================================
    
    const GNEWS_KEY = "7eed358766060404613f5e50f0532a02"; 
    const PPLX_KEY = "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"; // à¤¯à¤¹à¤¾à¤ pplx- à¤µà¤¾à¤²à¥€ Key à¤¡à¤¾à¤²à¥‡à¤‚

    // ============================================

    const newsContainer = document.getElementById('feed');

    async function fetchNews() {
        // GNews API call (Fixed 401 & CORS)
        const url = `https://gnews.io/api/v4/search?q=Indian+Defence+Forces+DRDO+ISRO&lang=hi&country=in&max=5&apikey=${GNEWS_KEY}`;
        
        try {
            const res = await fetch(url);
            const data = await res.json();
            
            if (data.articles) {
                newsContainer.innerHTML = ""; 
                data.articles.forEach(article => {
                    generateCard(article);
                });
            } else if (data.errors) {
                newsContainer.innerHTML = `<h3 style='color:red; text-align:center;'>GNews Error: ${data.errors[0]}</h3>`;
            }
        } catch (e) {
            console.error("News Fetch Error:", e);
            newsContainer.innerHTML = "<h3 style='text-align:center;'>DATALINK OFFLINE. REFRESH.</h3>";
        }
    }

    async function generateCard(article) {
        const id = Math.random().toString(36).substr(2, 9);
        const cardHTML = `
            <div class="card">
                <span class="badge">UPSC INTEL</span>
                <h3 style="color:#fff; margin: 10px 0;">${article.title}</h3>
                <p style="color:#ccc; font-size: 1rem;">${article.description}</p>
                <div class="question-box" id="q-${id}">
                    <div style="color:var(--gold); font-weight:bold; animation: blink 1s infinite;">âš¡ PERPLEXITY AI GENERATING UPSC QUESTION...</div>
                </div>
            </div>
        `;
        newsContainer.insertAdjacentHTML('beforeend', cardHTML);
        askPerplexity(article.title + " " + article.description, id);
    }

    async function askPerplexity(newsText, id) {
        const url = "https://api.perplexity.ai/chat/completions";
        
        const prompt = `Act as a UPSC NDA Exam paper setter. 
        Based on this news: "${newsText}". 
        Create 1 high-quality MCQ in Hindi. 
        Format your response EXACTLY like this:
        [Question Text]
        (A) Option (B) Option (C) Option (D) Option
        ---
        Correct Answer: [Letter] - [Explanation]`;

        try {
            const response = await fetch(url, {
                method: 'POST',
                headers: {
                    'accept': 'application/json',
                    'content-type': 'application/json',
                    'Authorization': `Bearer ${PPLX_KEY}`
                },
                body: JSON.stringify({
                    model: "sonar-pro",
                    messages: [
                        {role: "system", content: "You are a professional NDA Exam expert."},
                        {role: "user", content: prompt}
                    ]
                })
            });

            const data = await response.json();
            const aiText = data.choices[0].message.content;
            
            // UI Update
            let [question, answer] = aiText.split("---");
            
            document.getElementById(`q-${id}`).innerHTML = `
                <div class="question-text">${question.trim()}</div>
                <button class="reveal-btn" onclick="document.getElementById('ans-${id}').style.display='block'">DECLASSIFY ANSWER</button>
                <div id="ans-${id}" class="ans-box">ðŸŽ¯ <b>VERIFIED:</b> ${answer ? answer.trim() : "See full explanation above."}</div>
            `;

        } catch (error) {
            console.error("AI Error:", error);
            document.getElementById(`q-${id}`).innerHTML = "<span style='color:red;'>AI Intel Interrupted. Check Perplexity Balance.</span>";
        }
    }

    fetchNews();
</script>
</body>
</html>
